<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RepMate</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>RepMate</h1>
    </header>

    <!-- Page Status -->
    <section id="pageStatus" class="page-status">
      <div id="pageInfo" class="page-info">
        <span class="status-dot"></span>
        <span class="status-text">Checking page...</span>
      </div>
    </section>

    <!-- Scan Section -->
    <section id="scanSection" class="scan-section hidden">
      <button id="scanBtn" class="btn primary full-width">
        Scan for Size Guide
      </button>
      <div id="scanStatus" class="scan-status hidden"></div>
    </section>

    <!-- Results Section -->
    <section id="resultsSection" class="results-section hidden">
      <h2>Size Recommendation</h2>

      <!-- Container for multiple garment type recommendations -->
      <div id="recommendationsContainer"></div>

      <!-- Fallback single recommendation (hidden when multi-table) -->
      <div id="singleRecommendation" class="fit-cards">
        <div class="fit-card right-fit" title="The size that best matches your measurements with ideal ease for comfort">
          <div class="fit-label">Right Fit</div>
          <div class="fit-size" id="rightFitSize">-</div>
          <div class="fit-detail" id="rightFitDetail"></div>
        </div>
        <div class="fit-card baggy-fit" title="A larger size for a more relaxed, oversized look based on your baggy fit settings">
          <div class="fit-label">Baggy Fit</div>
          <div class="fit-size" id="baggyFitSize">-</div>
          <div class="fit-detail" id="baggyFitDetail"></div>
        </div>
      </div>

      <details class="size-chart-details">
        <summary>View Detected Size Chart</summary>
        <div id="sizeChartTable" class="size-chart-table"></div>
      </details>

      <details class="raw-ocr-details">
        <summary>View Raw OCR Text</summary>
        <pre id="rawOcrText" class="raw-ocr"></pre>
      </details>
    </section>

    <!-- Not Yupoo Message -->
    <section id="notYupooSection" class="not-yupoo hidden">
      <p>Navigate to a Yupoo album page to scan for size guides.</p>
    </section>

    <!-- Measurements Status -->
    <section id="measurementsStatus" class="measurements-status">
      <div class="measurements-info">
        <span class="measurements-label">My Measurements</span>
        <span id="measurementsSummary" class="measurements-summary">Not configured</span>
      </div>
      <button id="settingsBtn" class="btn settings-btn" title="Configure your body measurements">
        Settings
      </button>
    </section>

    <footer>
      <button id="clearResultsBtn" class="btn secondary hidden">Clear Results</button>
      <div id="status" class="status"></div>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
